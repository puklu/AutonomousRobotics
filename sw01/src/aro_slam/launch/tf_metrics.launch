<launch>
    <arg name="csv" default="/tmp/tf_metrics.csv"/>

    <node name="ground_truth_odom_to_tf" pkg="aro_slam" type="odom_to_tf" output="log">
        <rosparam subst_value="true">
            parent_frame: world
            child_frame: world/base_footprint
        </rosparam>
        <remap from="odom" to="ground_truth_odom"/>
        <remap from="/tf" to="/tf"/>
    </node>
    <node name="tf_metrics" pkg="aro_slam" type="tf_metrics" output="log">
        <rosparam subst_value="true">
            transforms: [[world, world/base_footprint], [map, base_footprint]]
            interval: 1.0
            timeout: 1.0
            csv: '$(arg csv)'
        </rosparam>
        <remap from="position_error" to="position_error"/>
        <remap from="average_position_error" to="average_position_error"/>
        <remap from="rotation_error" to="rotation_error"/>
        <remap from="average_rotation_error" to="average_rotation_error"/>
    </node>
</launch>
